[gd_scene load_steps=15 format=3 uid="uid://w6lu5mms411a"]

[ext_resource type="PackedScene" uid="uid://bk773w5lbvtad" path="res://scenes/entry_hall.tscn" id="1_room01"]
[ext_resource type="Shader" uid="uid://cyklafxhkva0e" path="res://scenes/filtro.gdshader" id="1_tdieo"]
[ext_resource type="PackedScene" path="res://scenes/room_one_door.tscn" id="2_room1door"]
[ext_resource type="PackedScene" path="res://scenes/room_two_doors.tscn" id="3_room2doors"]
[ext_resource type="PackedScene" path="res://scenes/room_three_doors.tscn" id="4_room3doors"]
[ext_resource type="PackedScene" uid="uid://dnku5oxvvu6mt" path="res://scenes/corridor.tscn" id="5_corridor"]
[ext_resource type="PackedScene" uid="uid://dm1ab7elblryx" path="res://scenes/personagem.tscn" id="6_bcdl5"]
[ext_resource type="PackedScene" uid="uid://ck5mn8qaq2x4w" path="res://scenes/killer.tscn" id="7_killer"]
[ext_resource type="PackedScene" uid="uid://deeyondg41hfi" path="res://scenes/low_poly_chest_[2_0]_fbx.tscn" id="10_5bw45"]
[ext_resource type="Script" uid="uid://c2v1nelt7ur71" path="res://script/horror_level.gd" id="11_level"]
[ext_resource type="Script" uid="uid://bacsvqi3jkqtf" path="res://script/pilha_spawn_point.gd" id="12_spawn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bfqsu"]
shader = ExtResource("1_tdieo")
shader_parameter/pixel_factor = 2.0
shader_parameter/color_depth = 16.0

[sub_resource type="NavigationMesh" id="NavigationMesh_killer"]
vertices = PackedVector3Array(-58.13315, 5.4, -16.88028, -52.38315, 5.4, -16.88028, -52.13315, 5.4, -18.88028, -58.38315, 5.4, -18.88028, -46.38315, 5.4, -27.63028, -46.38315, 5.4, -36.38028, -55.38315, 5.4, -36.38028, -64.13315, 5.4, -27.63028, -46.38315, 5.4, -18.88028, -64.13315, 5.4, -18.88028, -64.13315, 5.4, -36.38028, -57.38315, 1, -17.38028, -53.13315, 1, -17.38028, -52.88315, 1, -19.38028, -57.63315, 1, -19.38028, -47.13315, 1, -27.63028, -47.13315, 1, -35.63028, -55.38315, 1, -35.63028, -63.38315, 1, -27.63028, -47.13315, 1, -19.38028, -63.38315, 1, -19.38028, -63.38315, 1, -35.63028, -57.38315, 1, -10.13028, -53.13315, 1, -10.13028, -58.13315, 5.4, -10.88028, -52.38315, 5.4, -10.88028, -58.38315, 5.4, 8.86972, -58.13315, 5.4, 10.86972, -52.38315, 5.4, 10.86972, -52.13315, 5.4, 8.86972, -46.38315, 5.4, 3.1197205, -46.38315, 5.4, -3.1302795, -52.13315, 5.4, -8.88028, -44.38315, 5.4, 2.8697205, -44.38315, 5.4, -2.8802795, -58.38315, 5.4, -8.88028, -64.13315, 5.4, -0.13027954, -64.13315, 5.4, 8.86972, -46.38315, 5.4, 8.86972, -46.38315, 5.4, -8.88028, -64.13315, 5.4, -8.88028, -57.63315, 1, 8.11972, -57.38315, 1, 10.11972, -53.13315, 1, 10.11972, -52.88315, 1, 8.11972, -47.13315, 1, 2.3697205, -47.13315, 1, -2.3802795, -52.88315, 1, -8.13028, -45.13315, 1, 2.1197205, -45.13315, 1, -2.1302795, -57.63315, 1, -8.13028, -63.38315, 1, -0.13027954, -63.38315, 1, 8.11972, -47.13315, 1, 8.11972, -47.13315, 1, -8.13028, -63.38315, 1, -8.13028, -38.63315, 5.4, -2.8802795, -38.63315, 5.4, 2.8697205, -36.63315, 5.4, 3.1197205, -36.63315, 5.4, -3.1302795, -27.883148, 5.4, -8.88028, -27.883148, 5.4, 8.86972, -18.883148, 5.4, 3.1197205, -18.883148, 5.4, -3.1302795, -16.883148, 5.4, 2.8697205, -16.883148, 5.4, -2.8802795, -18.883148, 5.4, -8.88028, -36.63315, 5.4, 8.86972, -36.63315, 5.4, -8.88028, -18.883148, 5.4, 8.86972, -11.133148, 5.4, -2.8802795, -11.133148, 5.4, 2.8697205, -9.133148, 5.4, 3.1197205, -9.133148, 5.4, -3.1302795, -0.3831482, 5.4, 8.86972, 8.616852, 5.4, 8.86972, 8.616852, 5.4, -0.13027954, -0.3831482, 5.4, -8.88028, -9.133148, 5.4, 8.86972, -9.133148, 5.4, -8.88028, 8.616852, 5.4, -8.88028, -37.88315, 1, -2.1302795, -37.88315, 1, 2.1197205, -35.88315, 1, 2.3697205, -35.88315, 1, -2.3802795, -27.883148, 1, -8.13028, -27.883148, 1, 8.11972, -19.633148, 1, 2.3697205, -19.633148, 1, -2.3802795, -17.633148, 1, 2.1197205, -17.633148, 1, -2.1302795, -19.633148, 1, -8.13028, -35.88315, 1, 8.11972, -35.88315, 1, -8.13028, -19.633148, 1, 8.11972, -10.383148, 1, -2.1302795, -10.383148, 1, 2.1197205, -8.383148, 1, 2.3697205, -8.383148, 1, -2.3802795, -0.3831482, 1, 8.11972, 7.866852, 1, 8.11972, 7.866852, 1, -0.13027954, -0.3831482, 1, -8.13028, -8.383148, 1, 8.11972, -8.383148, 1, -8.13028, 7.866852, 1, -8.13028, -55.38315, 1, 24.11972, -54.63315, 1, 24.36972, -54.13315, 1, 23.61972, -53.13315, 1, 18.86972, -57.38315, 1, 19.11972, -57.88315, 1, 19.36972, -58.13315, 5.4, 16.61972, -52.38315, 5.4, 16.61972, -52.13315, 5.4, 18.61972, -58.38315, 5.4, 18.61972, -55.38315, 5.4, 36.36972, -46.38315, 5.4, 36.36972, -46.38315, 5.4, 27.36972, -64.13315, 5.4, 27.36972, -64.13315, 5.4, 18.61972, -46.38315, 5.4, 18.61972, -64.13315, 5.4, 36.36972, -51.38315, 1, 24.11972, -51.13315, 1, 24.86972, -47.13315, 1, 24.86972, -52.88315, 1, 19.36972, -47.13315, 1, 19.36972, -63.38315, 1, 24.11972, -63.38315, 1, 19.36972, -54.38315, 1, 25.61972, -63.38315, 1, 35.61972, -52.38315, 1, 35.61972, -52.38315, 1, 25.86972, -47.13315, 1, 35.61972)
polygons = [PackedInt32Array(0, 3, 1), PackedInt32Array(1, 3, 2), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 2), PackedInt32Array(6, 2, 3), PackedInt32Array(6, 3, 7), PackedInt32Array(4, 8, 2), PackedInt32Array(3, 9, 7), PackedInt32Array(7, 10, 6), PackedInt32Array(11, 14, 12), PackedInt32Array(12, 14, 13), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 13), PackedInt32Array(17, 13, 14), PackedInt32Array(17, 14, 18), PackedInt32Array(15, 19, 13), PackedInt32Array(14, 20, 18), PackedInt32Array(18, 21, 17), PackedInt32Array(11, 12, 22), PackedInt32Array(22, 12, 23), PackedInt32Array(0, 1, 24), PackedInt32Array(24, 1, 25), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(32, 31, 30), PackedInt32Array(33, 30, 34), PackedInt32Array(34, 30, 31), PackedInt32Array(29, 26, 30), PackedInt32Array(30, 26, 36), PackedInt32Array(30, 36, 35), PackedInt32Array(30, 35, 32), PackedInt32Array(25, 32, 24), PackedInt32Array(24, 32, 35), PackedInt32Array(26, 37, 36), PackedInt32Array(30, 38, 29), PackedInt32Array(32, 39, 31), PackedInt32Array(36, 40, 35), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(47, 46, 45), PackedInt32Array(48, 45, 49), PackedInt32Array(49, 45, 46), PackedInt32Array(44, 41, 45), PackedInt32Array(45, 41, 51), PackedInt32Array(45, 51, 50), PackedInt32Array(45, 50, 47), PackedInt32Array(23, 47, 22), PackedInt32Array(22, 47, 50), PackedInt32Array(41, 52, 51), PackedInt32Array(45, 53, 44), PackedInt32Array(47, 54, 46), PackedInt32Array(51, 55, 50), PackedInt32Array(56, 59, 57), PackedInt32Array(57, 59, 58), PackedInt32Array(59, 60, 58), PackedInt32Array(58, 60, 61), PackedInt32Array(61, 60, 63), PackedInt32Array(61, 63, 62), PackedInt32Array(64, 62, 65), PackedInt32Array(65, 62, 63), PackedInt32Array(60, 66, 63), PackedInt32Array(61, 67, 58), PackedInt32Array(59, 68, 60), PackedInt32Array(62, 69, 61), PackedInt32Array(70, 73, 71), PackedInt32Array(71, 73, 72), PackedInt32Array(75, 74, 76), PackedInt32Array(76, 74, 72), PackedInt32Array(76, 72, 73), PackedInt32Array(76, 73, 77), PackedInt32Array(74, 78, 72), PackedInt32Array(73, 79, 77), PackedInt32Array(77, 80, 76), PackedInt32Array(81, 84, 82), PackedInt32Array(82, 84, 83), PackedInt32Array(84, 85, 83), PackedInt32Array(83, 85, 86), PackedInt32Array(86, 85, 88), PackedInt32Array(86, 88, 87), PackedInt32Array(89, 87, 90), PackedInt32Array(90, 87, 88), PackedInt32Array(85, 91, 88), PackedInt32Array(86, 92, 83), PackedInt32Array(84, 93, 85), PackedInt32Array(87, 94, 86), PackedInt32Array(95, 98, 96), PackedInt32Array(96, 98, 97), PackedInt32Array(97, 98, 99), PackedInt32Array(99, 98, 102), PackedInt32Array(99, 102, 101), PackedInt32Array(99, 101, 100), PackedInt32Array(99, 103, 97), PackedInt32Array(98, 104, 102), PackedInt32Array(102, 105, 101), PackedInt32Array(34, 56, 33), PackedInt32Array(33, 56, 57), PackedInt32Array(65, 70, 64), PackedInt32Array(64, 70, 71), PackedInt32Array(49, 81, 48), PackedInt32Array(48, 81, 82), PackedInt32Array(90, 95, 89), PackedInt32Array(89, 95, 96), PackedInt32Array(107, 106, 108), PackedInt32Array(108, 106, 109), PackedInt32Array(109, 106, 110), PackedInt32Array(110, 106, 111), PackedInt32Array(43, 109, 42), PackedInt32Array(42, 109, 110), PackedInt32Array(27, 28, 112), PackedInt32Array(112, 28, 113), PackedInt32Array(113, 114, 112), PackedInt32Array(112, 114, 115), PackedInt32Array(117, 116, 118), PackedInt32Array(118, 116, 114), PackedInt32Array(114, 116, 115), PackedInt32Array(115, 116, 119), PackedInt32Array(119, 120, 115), PackedInt32Array(114, 121, 118), PackedInt32Array(116, 122, 119), PackedInt32Array(125, 124, 123), PackedInt32Array(108, 109, 126), PackedInt32Array(108, 126, 123), PackedInt32Array(123, 126, 127), PackedInt32Array(123, 127, 125), PackedInt32Array(129, 111, 128), PackedInt32Array(128, 111, 106), PackedInt32Array(130, 106, 107), PackedInt32Array(106, 130, 128), PackedInt32Array(128, 130, 131), PackedInt32Array(131, 130, 132), PackedInt32Array(130, 133, 132), PackedInt32Array(124, 125, 133), PackedInt32Array(133, 125, 132), PackedInt32Array(132, 125, 134)]
cell_height = 0.2
agent_height = 2.0
agent_max_climb = 0.5
edge_max_length = 12.0

[sub_resource type="Environment" id="Environment_ambient"]
background_mode = 1
background_color = Color(0.05, 0.05, 0.05, 1)
ambient_light_source = 2
ambient_light_color = Color(0.15, 0.15, 0.2, 1)
ambient_light_energy = 0.12

[node name="HorrorLevel" type="Node3D"]
script = ExtResource("11_level")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_bfqsu")
offset_right = 1151.0
offset_bottom = 647.0
metadata/_edit_use_anchors_ = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.06663895, 0.014875412, -0.07297897)
navigation_mesh = SubResource("NavigationMesh_killer")

[node name="EntryHall" parent="NavigationRegion3D" instance=ExtResource("1_room01")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.24161744, 0.0031769276, 0.00020647049)

[node name="Corridor01" parent="NavigationRegion3D" instance=ExtResource("5_corridor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.996619, 0, 0)

[node name="MidRoom" parent="NavigationRegion3D" instance=ExtResource("3_room2doors")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.75, 0, 0)

[node name="Corridor02" parent="NavigationRegion3D" instance=ExtResource("5_corridor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.582767, 0, 0)

[node name="LivingRoom" parent="NavigationRegion3D" instance=ExtResource("4_room3doors")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -55.38314, 0, 0)

[node name="LeftCorridor" parent="NavigationRegion3D" instance=ExtResource("5_corridor")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -55.38314, 0, 13.635427)

[node name="LeftRoom" parent="NavigationRegion3D" instance=ExtResource("2_room1door")]
transform = Transform3D(1.1924881e-08, 0, -1, 0, 1, 0, 1, 0, 1.1924881e-08, -55.38314, 0, 27.544533)

[node name="RightCorridor" parent="NavigationRegion3D" instance=ExtResource("5_corridor")]
transform = Transform3D(0, 0, -1, 0, 1, 0, 1, 0, 0, -55.38314, 0, -13.704725)

[node name="RightRoom" parent="NavigationRegion3D" instance=ExtResource("2_room1door")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -55.38314, 0, -27.63028)

[node name="Killer" parent="NavigationRegion3D" instance=ExtResource("7_killer")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.93336, 0.98512506, 3.946474)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ambient")

[node name="Personagem" parent="." instance=ExtResource("6_bcdl5")]
transform = Transform3D(0.0016755295, 0, 0.99999857, 0, 1, 0, -0.99999857, 0, 0.0016755295, 0, 2, 0)

[node name="SpawnPoints" type="Node3D" parent="."]

[node name="SpawnMidRoom" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.75, 1.2, 0)
script = ExtResource("12_spawn")
sala_id = "mid_room"

[node name="SpawnLivingRoom" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -55.38, 1.2, 0)
script = ExtResource("12_spawn")
sala_id = "living_room"

[node name="SpawnLeftRoom" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -55.38, 1.2, 27.54)
script = ExtResource("12_spawn")
sala_id = "left_room"

[node name="SpawnRightRoom" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -55.38, 1.2, -27.63)
script = ExtResource("12_spawn")
sala_id = "right_room"

[node name="Chest1" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7478852, -7.7681727)

[node name="Chest4" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.479225, 0.7478852, -7.6887074)

[node name="Chest6" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24.969149, 0.7478852, -7.703934)

[node name="Chest2" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.99984246, 0, -0.017749006, 0, 1, 0, 0.017749006, 0, -0.99984246, 0, 0.7478852, 7.8224525)

[node name="Chest3" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.99984246, 0, -0.017749006, 0, 1, 0, 0.017749006, 0, -0.99984246, -12.459816, 0.7478852, 1.7426071)

[node name="Chest5" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.9991473, 0, -0.041299988, 0, 1, 0, 0.041299988, 0, -0.9991473, -29.038076, 0.8041935, 7.490212)

[node name="Chest7" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.031428047, 0, 0.9995066, 0, 1, 0, -0.9995066, 0, -0.031428047, -63.374104, 0.8041935, 1.1611304)

[node name="Chest8" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.021936916, 0, 0.99975985, 0, 1, 0, -0.99975985, 0, -0.021936916, -63.51771, 0.8041935, -4.4803376)

[node name="Chest9" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.023769349, 0, -0.99971795, 0, 1, 0, 0.99971795, 0, -0.023769349, -47.57802, 0.8041935, -7.7081785)

[node name="Chest10" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.055978324, 0, -0.99843246, 0, 1, 0, 0.99843246, 0, 0.055978324, -47.61043, 0.8041935, 7.890074)

[node name="Chest11" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.01612613, 0, -0.9998705, 0, 1, 0, 0.9998705, 0, 0.01612613, -47.609207, 0.8041935, 24.220785)

[node name="Chest12" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.03078257, 0, -0.9995266, 0, 1, 0, 0.9995266, 0, 0.03078257, -47.73017, 0.8041935, 28.858793)

[node name="Chest13" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.003874736, 0, 0.99999297, 0, 1, 0, -0.99999297, 0, 0.003874736, -63.328613, 0.8041935, 28.858644)

[node name="Chest14" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.024309974, 0, 0.99970496, 0, 1, 0, -0.99970496, 0, -0.024309974, -63.163372, 0.8041935, 24.220934)

[node name="Chest15" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.016929116, 0, -0.99985725, 0, 1, 0, 0.99985725, 0, -0.016929116, -47.55288, 0.8041935, -32.38266)

[node name="Chest16" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.038719065, 0, -0.9992506, 0, 1, 0, 0.9992506, 0, 0.038719065, -47.690826, 0.8041935, -27.744654)

[node name="Chest17" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.044613216, 0, 0.99900484, 0, 1, 0, -0.99900484, 0, -0.044613216, -63.248634, 0.8041935, -27.744802)

[node name="Chest18" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(-0.015270876, 0, 0.9998839, 0, 1, 0, -0.9998839, 0, -0.015270876, -63.394493, 0.8041935, -32.382515)

[node name="Chest19" parent="." instance=ExtResource("10_5bw45")]
transform = Transform3D(0.99998504, 0, 0.0055501126, 0, 1, 0, -0.0055501126, 0, 0.99998504, -55.290432, 0.8041935, -35.37187)
